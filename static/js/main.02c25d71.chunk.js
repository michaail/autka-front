(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(280)},185:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(6),r=a.n(l),o=(a(185),a(25)),i=a(26),u=a(28),s=a(27),d=a(29),h=a(101),p=a(34),m=a(151),b=a(46),f=a.n(b),g=a(282),v=a(69),k=a(11),O=a(368),j=a(365),y=a(366),C=a(126),E=a(369),S=a(370),x=(a(153),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={value:""},e.onChange=e.onChange.bind(Object(k.a)(Object(k.a)(e))),e.onSelect=e.onSelect.bind(Object(k.a)(Object(k.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.clear!==e.clear&&this.setState({value:""})}},{key:"onChange",value:function(e){var t=this.props.onInputChange;this.setState({value:e}),t(e)}},{key:"onSelect",value:function(e){(0,this.props.onSelectedValue)(e)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.dataSource,n=this.state.value;return c.a.createElement(S.a,{dataSource:a,style:{width:200},onChange:this.onChange,onSelect:this.onSelect,filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())},placeholder:t,value:n,allowClear:!0})}}]),t}(n.Component));x.defaultProps={placeholder:"",dataSource:[],clear:0,onSelectedValue:function(){},onInputChange:function(){}};var M=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={selectedMake:"",inputMake:"",inputModel:"",clearMakeCtr:0,clearModelCtr:0,expand:!1,minYear:null,maxYear:null,minPrice:null,maxPrice:null},e.handleSearch=e.handleSearch.bind(Object(k.a)(Object(k.a)(e))),e.handleReset=e.handleReset.bind(Object(k.a)(Object(k.a)(e))),e.handleMakeSelected=e.handleMakeSelected.bind(Object(k.a)(Object(k.a)(e))),e.handleMakeInputChange=e.handleMakeInputChange.bind(Object(k.a)(Object(k.a)(e))),e.handleModelInputChange=e.handleModelInputChange.bind(Object(k.a)(Object(k.a)(e))),e.toggle=e.toggle.bind(Object(k.a)(Object(k.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSearch",value:function(e){e.preventDefault();var t=this.props.onSearch,a=this.state;t({make:a.inputMake,model:a.inputModel,minYear:a.minYear,maxYear:a.maxYear,minPrice:a.minPrice,maxPrice:a.maxPrice})}},{key:"handleReset",value:function(){var e=this.props.onSearch;this.setState(function(e){return{selectedMake:"",inputMake:"",inputModel:"",clearMakeCtr:e.clearMakeCtr+1,clearModelCtr:e.clearModelCtr+1,minYear:null,maxYear:null,minPrice:null,maxPrice:null}}),e({})}},{key:"handleMakeSelected",value:function(e){this.setState(function(t){return{selectedMake:e,clearModelCtr:t.clearModelCtr+1}})}},{key:"handleMakeInputChange",value:function(e){var t=this.state.clearModelCtr;""===e&&(t+=1),this.setState({inputMake:e,clearModelCtr:t})}},{key:"handleModelInputChange",value:function(e){this.setState({inputModel:e})}},{key:"toggle",value:function(){var e=this.state.expand;this.setState({expand:!e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedMake,n=t.clearMakeCtr,l=t.clearModelCtr,r=t.expand,o=t.minYear,i=t.maxYear,u=t.minPrice,s=t.maxPrice,d=this.props.makes;return c.a.createElement("div",null,c.a.createElement(O.a,{layout:"inline",className:"ant-advanced-search-form",onSubmit:this.handleSearch},c.a.createElement(j.a,null,c.a.createElement(y.a,{span:18,offset:4},c.a.createElement(O.a.Item,{label:"Marka"},c.a.createElement(x,{placeholder:"Ford",dataSource:Object.keys(d).sort(),onSelectedValue:this.handleMakeSelected,onInputChange:this.handleMakeInputChange,clear:n})),c.a.createElement(O.a.Item,{label:"Model"},c.a.createElement(x,{placeholder:"Escape",dataSource:void 0!==d[a]?d[a].sort():void 0,onInputChange:this.handleModelInputChange,clear:l})),c.a.createElement(O.a.Item,null,c.a.createElement(C.a,{type:"primary",htmlType:"submit",icon:"search",onClick:this.handleSearch},"Szukaj")),c.a.createElement(O.a.Item,null,c.a.createElement(C.a,{type:"danger",icon:"delete",onClick:this.handleReset},"Wyczy\u015b\u0107")),c.a.createElement(O.a.Item,null,c.a.createElement(C.a,{type:"dashed",icon:r?"up":"down",onClick:this.toggle},r?"Mniej":"Wi\u0119cej")))),c.a.createElement(j.a,{style:{display:r?"block":"none"}},c.a.createElement(y.a,{span:5,offset:4},c.a.createElement(O.a.Item,{label:"Rok od"},c.a.createElement(E.a,{style:{width:100},onChange:function(t){e.setState({minYear:""===t?null:t})},value:o})),c.a.createElement(O.a.Item,{label:"do"},c.a.createElement(E.a,{style:{width:100},onChange:function(t){e.setState({maxYear:""===t?null:t})},value:i}))),c.a.createElement(y.a,{span:5},c.a.createElement(O.a.Item,{label:"Cena od"},c.a.createElement(E.a,{style:{width:100},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},step:100,onChange:function(t){e.setState({minPrice:""===t?null:t})},value:u})),c.a.createElement(O.a.Item,{label:"do"},c.a.createElement(E.a,{style:{width:100},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},step:100,onChange:function(t){e.setState({maxPrice:""===t?null:t})},value:s}))))))}}]),t}(n.Component);M.defaultProps={makes:{},onSearch:function(){}};var I=a(367),w=(a(319),a(321),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).locationDict={201:"Toronto",202:"London",205:"Montreal",206:"Montcon",207:"Halifax",295:"Atlantic"},a.columns=[{title:"LotID",key:"lotID",dataIndex:"lotID",render:function(e){return c.a.createElement("a",{href:"http://www.copart.ca/lot/".concat(e),target:"_blank",rel:"noopener noreferrer"},e)},width:"9%"},{title:"Marka",dataIndex:"make",width:"9%",key:"make"},{title:"Model",key:"model",dataIndex:"model",width:"9%"},{title:"Rocznik",key:"year",dataIndex:"year",width:"9%"},{title:"Cena",key:"price",dataIndex:"price",width:"9%"},{title:"PL",key:"plPrice",dataIndex:"plPrice",width:"9%"},{title:"UA",key:"uaPrice",dataIndex:"uaPrice",width:"9%"},{title:"Kupiec",key:"buyer",dataIndex:"buyer",filters:[{text:"Ontario",value:"ON"},{text:"Quebec",value:"QC"},{text:"Polska",value:"PL"},{text:"Ukraina",value:"UA"}],width:"7%"},{title:"Uszkodzenia",key:"damage",dataIndex:"details.Primary Damage",width:"auto",filters:[{text:"Prz\xf3d",value:"FRONT END"},{text:"Ty\u0142",value:"REAR END"},{text:"Bok",value:"SIDE"},{text:"All over",value:"ALL OVER"},{text:"Spalony",value:"BURN"},{text:"Podwozie",value:"UNDERCARRIAGE"},{text:"Zalany",value:"WATER/FLOOD"},{text:"Zu\u017cycie",value:"NORMAL WEAR"},{text:"Mechaniczne",value:"MECHANICAL"},{text:"Przytarcia",value:"MINOR DENT/SCRATCHES"}]},{title:"Lokalizacja",key:"location",dataIndex:"location",width:"9%",render:function(e){return c.a.createElement("div",null,a.locationDict[e])},filters:[{text:"Toronto",value:201},{text:"London",value:202},{text:"Montreal",value:205},{text:"Montcon",value:206},{text:"Halifax",value:207},{text:"Atlantic",value:295}]},{title:"Data",key:"createdAt",dataIndex:"createdAt",width:"9%",render:function(e){if(null==e)return c.a.createElement("div",null);var t=new Date(e),a="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear());return c.a.createElement("div",null,a)}}],a.state={columns:a.columns,docs:[],pagination:{pageSize:20,showQuickJumper:!0},loading:!1},a.componentWillReceiveProps=a.componentWillReceiveProps.bind(Object(k.a)(Object(k.a)(a))),a.handleTableChange=a.handleTableChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docs,a=e.pagination,n=e.loading;this.setState({docs:t,pagination:a,loading:n})}},{key:"handleTableChange",value:function(e,t,a){(0,this.props.onTableChange)(e,t,a)}},{key:"render",value:function(){var e=this.state,t=e.docs,a=e.columns,n=e.pagination,l=e.loading;return c.a.createElement("div",null,c.a.createElement(I.a,{dataSource:t,columns:a,pagination:n,onChange:this.handleTableChange,size:"small",loading:l}))}}]),t}(n.Component));w.defaultProps={onTableChange:function(){},loading:!1};var P={config:{API_URL:"http://35.225.156.136:3001"}};function R(e,t){var a="";return t[e]&&t[e].forEach(function(t){a+="&".concat(e,"=").concat(t)}),a}var A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).searchPage=function(){var e=Object(v.a)(f.a.mark(function e(t,n,c,l){var r,o,i,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P.config.API_URL,"/api/lots/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({pagination:t,search:n,filters:c,sorters:l})});case 2:return r=e.sent,e.next=5,r.json();case 5:o=e.sent,i=o.documents,u=o.meta,a.setState(function(e){return{docs:i,pagination:Object(g.a)({},e.pagination,{total:u.totalCount}),loading:!1}});case 8:case"end":return e.stop()}},e)}));return function(t,a,n,c){return e.apply(this,arguments)}}(),a.handleSearch=function(e){a.setState({search:e,loading:!0});var t=a.state,n=t.pagination,c=t.filters;a.searchPage(n,e,c)},a.handleSearchReset=function(){a.setState({search:{}})},a.state={makes:{},search:{},docs:[],pagination:{},filters:{},loading:!1},a.getPage=a.getPage.bind(Object(k.a)(Object(k.a)(a))),a.handleTableChange=a.handleTableChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getMakes(),this.getPage(1,20)}},{key:"getMakes",value:function(){var e=Object(v.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P.config.API_URL,"/api/makes"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({makes:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getPage",value:function(){var e=Object(v.a)(f.a.mark(function e(t,a,n){var c,l,r,o,i,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c="",n&&["make","model","buyer","location"].forEach(function(e){c+=R(e,n)}),e.next=4,fetch("".concat(P.config.API_URL,"/api/lots?page=").concat(t,"&pageSize=").concat(a).concat(c));case 4:return l=e.sent,e.next=7,l.json();case 7:r=e.sent,o=this.state.pagination,i=r.documents,u=r.meta,o.total=u.totalCount,this.setState({docs:i,pagination:o,loading:!1});case 12:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"handleTableChange",value:function(e,t,a){var n=this.state.search,c={page:e.current,pageSize:e.pageSize};this.setState({pagination:c,filters:t});var l=c.pageSize,r=c.page;0===Object.entries(n).length&&n.constructor===Object?this.getPage(r,l,t):this.searchPage(c,n,t,a)}},{key:"render",value:function(){var e=this.state,t=e.makes,a=e.docs,n=e.pagination,l=e.loading;return c.a.createElement("div",null,c.a.createElement(M,{makes:t,onSearch:this.handleSearch}),c.a.createElement(w,{docs:a,pagination:n,onTableChange:this.handleTableChange,loading:l}))}}]),t}(n.Component),T=a(281),L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={value:"",docs:""},e.handleChange=e.handleChange.bind(Object(k.a)(Object(k.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(k.a)(Object(k.a)(e))),e.getLot=e.getLot.bind(Object(k.a)(Object(k.a)(e))),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getLot",value:function(){var e=Object(v.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P.config.API_URL,"/api/lots/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,this.setState({docs:n});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"handleSubmit",value:function(){var e=this.state.value;this.getLot(e)}},{key:"render",value:function(){var e=this.state.docs;return c.a.createElement("div",null,c.a.createElement("div",{className:"TableSearch"},c.a.createElement(O.a,{layout:"inline"},c.a.createElement(O.a.Item,{label:"LotID"},c.a.createElement(T.a,{onChange:this.handleChange})),c.a.createElement(O.a.Item,null,c.a.createElement(C.a,{type:"primary",icon:"search",onClick:this.handleSubmit})),c.a.createElement(O.a.Item,null,c.a.createElement(C.a,{type:"danger",icon:"delete"})))),c.a.createElement(w,{docs:e}))}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(h.a,null,c.a.createElement(z,null),c.a.createElement(p.a,{exact:!0,path:"/",component:A}),c.a.createElement(p.a,{path:"/lot",component:L})))}}]),t}(n.Component);function z(){return c.a.createElement(m.a,{mode:"horizontal",defaultSelectedKeys:["table"]},c.a.createElement(m.a.Item,{key:"table"},c.a.createElement(h.b,{to:"/"},"Tabela")),c.a.createElement(m.a.Item,{key:"auctions"},c.a.createElement(h.b,{to:"/lot"},"Aukcje")))}var N=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(D,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},321:function(e,t,a){}},[[180,2,1]]]);
//# sourceMappingURL=main.02c25d71.chunk.js.map